<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Godout - Usuario</title>
    <link rel="stylesheet" href="style/style.css">
    <style>
        h3{
            align-self: flex-start;
        }
        h2{
            align-self: flex-start;
            margin: 2%;
        }
        h4{
            align-self: flex-start;
            color: var(--cor-secundaria);
        }
        .perfil-info{
            display: flex; 
            gap: 5%; 
            align-self: center;
        }
        .Area{
            min-width: 90%;
            max-width: 98%;
            height: 100px;
            background-color: var(--cor-fundo);
            border: 1px solid var(--cor-borda);
            border-radius: 4px;
            align-self: flex-start;
            margin-left: 2%;
        }
        .proj{
            min-width: 95%; 
            max-width: 98%; 
            display: flex; 
            flex-direction: row; 
            gap: 63.5%;  
            align-self: flex-start;
        }
        .proj button{
            padding: 0.2rem;
            border: none;
            border-radius: 4px;
            background-color: var(--cor-principal);
            color: white;
            font-size: 0.6rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .proj button:hover{
            background-color: var(--cor-secundaria);
        }
    </style>
</head>
<body>
    <header>
        <div class="container nav-bar">
            <a href="home.html" class="logo">Godout</a>
            <nav class="nav-links">
                <a href="home.html">Home</a>
                <a href="serviços.html">Funcionalidades</a>
                <a href="precos.html">Preços</a>
                <a href="login.html">Login</a>
            </nav>
        </div>
    </header> <br>
    <div class="container hero" style="display:flex; flex-direction: row; padding: 2% 0 2% 0;">
        <div class="hero card" style="min-width: 25%; max-width: 25%; margin-left: 2%; height: 100%;">
            <h3>Informações Pessoais</h3>
        <div class="perfil-info">
            <img id="userPhoto" src="assets/19197195.jpg" alt="Foto do usuário" width="100" height="100">
            </div><br>
            <h4>Usuario: <span id="userName"></span></h4>
            <h4>Email: <span id="userEmail"></span></h4>
            <h4>descrição: <span id="userDescription"></span></h4><br><br> <!-- Assumindo que você pegaria isso de outro lugar, ou deixaria em branco -->

            <h3>Dados Profissionais</h3>
            <h4>Empresa: <span id="userCompany"></span></h4>
            <h4>plano: <span id="userPlan"></span></h4>
            <h4>Cargo: <span id="userRole"></span></h4>
        </div>

        <div class="hero card" style="min-width: 70%; margin-left: 1%;">
            <h2>Interações</h2><br>
            <div class="proj">
                <h3>Projetos:</h3>
                <div class="multiplebutton">
                    <button type="button">Ativos</button>
                    <button type="button">Desativados</button>
                    <button type="button">Em espera</button>
                </div>
            </div>
            <div class="Area">

            </div>
            <br>
            <h3>Equipes e conexões:</h3>
            <div class="Area">

            </div>
        </div>
    </div>

    <!-- <div class="container hero" style="display:flex; flex-direction: row; padding: 2% 0 2% 0;">

        <div class="hero card" style="min-width: 25%; max-width: 25%; margin-left: 2%; height: 100%;;">
            <h3>Informações Pessoais</h3>
            <div class="perfil-info">
                <img src="assets/19197195.jpg" alt="" width="100" height="100""></img>
            </div><br>
            <h4>Usuario:</h4>
            <h4>Email:</h4>
            <h4>descrição:</h4><br><br>
            
            <h3>Dados Profissionais</h3>
            <h4>Empresa:</h4>
            <h4>plano:</h4>
            <h4>Cargo:</h4>
        </div>

        <div class="hero card" style="min-width: 70%; margin-left: 1%;">
            <h2>Interações</h2><br>
            <div class="proj">
                <h3>Projetos:</h3>
                <div class="multiplebutton">
                    <button type="button">Ativos</button>
                    <button type="button">Desativados</button>
                    <button type="button">Em espera</button>
                </div>
            </div>
            <div class="Area">

            </div>
            <br>
            <h3>Equipes e conexões:</h3>
            <div class="Area">

            </div>
        </div>
    </div> -->
    <footer>
        <div class="container">
            <p>&copy; 2025 Plano Ágil. Todos os direitos reservados.</p>
        </div>
    </footer>
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
      import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

      // Your web app's Firebase configuration
        // COLE SEU firebaseConfig AQUI!
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
        apiKey: "AIzaSyDAcynqZp8KMgzcPZH2Ze5OEaFtWzMcwtk",
        authDomain: "projhub-cc8c2.firebaseapp.com",
        projectId: "projhub-cc8c2",
        storageBucket: "projhub-cc8c2.firebasestorage.app",
        messagingSenderId: "264400081700",
        appId: "1:264400081700:web:186829ee9d7d548fd4d9b1",
        measurementId: "G-VX0WXTYPK2"
        };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);

      // Agora seu código Firebase Authentication pode ser executado
      const auth = getAuth(app); // Passe a instância do app para getAuth()

      // Observa o estado de autenticação
      onAuthStateChanged(auth, (user) => {
        const userNameSpan = document.getElementById("userName");
        const userEmailSpan = document.getElementById("userEmail");
        const userPhotoImg = document.getElementById("userPhoto");
        const userDescriptionSpan = document.getElementById("userDescription"); // Adicione este
        const userCompanySpan = document.getElementById("userCompany");         // Adicione este
        const userPlanSpan = document.getElementById("userPlan");               // Adicione este
        const userRoleSpan = document.getElementById("userRole");               // Adicione este

        if (user) {
            // Usuário logado
            console.log("Usuário logado:", user.displayName);

            if (userNameSpan) {
                userNameSpan.innerText = user.displayName || "Usuário sem nome";
            }
            if (userEmailSpan) {
                userEmailSpan.innerText = user.email || "Email não disponível";
            }
            if (userPhotoImg && user.photoURL) {
                userPhotoImg.src = user.photoURL;
            } else if (userPhotoImg) {
                // Se não houver photoURL, mantenha a imagem padrão ou defina uma de fallback
                userPhotoImg.src = "assets/19197195.jpg";
            }

            // Para 'descrição', 'empresa', 'plano' e 'cargo',
            // estas informações não vêm diretamente do Google Auth.
            // Você precisaria carregá-las de um banco de dados (ex: Cloud Firestore)
            // usando o user.uid como chave para identificar os dados específicos do usuário.
            // Por enquanto, vamos deixá-las como "N/A" ou um placeholder.
            if (userDescriptionSpan) {
                userDescriptionSpan.innerText = "Sua descrição aqui (carregue do BD)";
            }
            if (userCompanySpan) {
                userCompanySpan.innerText = "Sua empresa (carregue do BD)";
            }
            if (userPlanSpan) {
                userPlanSpan.innerText = "Seu plano (carregue do BD)";
            }
            if (userRoleSpan) {
                userRoleSpan.innerText = "Seu cargo (carregue do BD)";
            }

        } else {
            // Nenhum usuário logado ou o usuário deslogou
            console.log("Nenhum usuário logado.");
            if (userNameSpan) {
                userNameSpan.innerText = "Visitante";
            }
            if (userEmailSpan) {
                userEmailSpan.innerText = "Não logado";
            }
            if (userPhotoImg) {
                userPhotoImg.src = "assets/19197195.jpg"; // Volta para a imagem padrão
            }
            if (userDescriptionSpan) {
                userDescriptionSpan.innerText = "";
            }
            if (userCompanySpan) {
                userCompanySpan.innerText = "";
            }
            if (userPlanSpan) {
                userPlanSpan.innerText = "";
            }
            if (userRoleSpan) {
                userRoleSpan.innerText = "";
            }

            // Opcional: Redirecionar para a página de login se não houver usuário
            window.location.href = "/areaUsuario.html";
        }
      });
    </script>
        <script src="scriptTema.js"></script>
</body>
</html>